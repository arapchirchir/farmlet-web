import{_ as J,u as Q,q as W,H as X,l as Y,p as Z,r as x,c as r,o as n,a as e,K as i,k as u,h as f,t as d,L as p,n as m,e as _,a2 as y,a4 as ee,f as z,C as te,v as se}from"./app-Bl5ehUwr.js";import{_ as ae}from"./ToastSuccessMessage-CiNTeRAj.js";import{_ as q}from"./LoadingSpin-DO2qCNP8.js";const le={class:"p-6 bg-white rounded-2xl border border-slate-200 mt-3"},oe={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},de={for:"name",class:"form-label mb-2"},re=["placeholder"],ne={key:0,class:"text-red-500 text-sm"},ie={for:"Phone",class:"form-label mb-2"},ue=["placeholder","maxlength"],pe={key:0,class:"text-red-500 text-sm"},me={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 mt-6"},ce={for:"Area",class:"form-label mb-2"},ve=["placeholder"],he={key:0,class:"text-red-500 text-sm"},fe={for:"Flat",class:"form-label mb-2"},_e=["placeholder"],be={key:0,class:"text-red-500 text-sm"},xe={for:"Postal",class:"form-label mb-2"},ye=["placeholder"],ge={key:0,class:"text-red-500 text-sm"},ke={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6"},$e={for:"address",class:"form-label mb-2"},Ae=["placeholder"],we={key:0,class:"text-red-500 text-sm"},Ve={for:"address2",class:"form-label mb-2"},Ue=["placeholder"],Ee={key:0,class:"text-red-500 text-sm"},Pe={class:"mt-4"},Fe={class:"text-slate-950 text-base font-medium leading-normal"},Ce={class:"flex justify-between items-center gap-2 mt-2 flex-wrap"},Me={class:"flex items-center flex-wrap gap-2"},Se={for:"home",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},Ne=["checked"],De={class:"text-base font-normal"},Le={for:"office",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},Te=["checked"],Be={class:"text-base font-normal"},Re={for:"other",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},je=["checked"],He={class:"text-base font-normal"},Ie={class:"flex items-center gap-2"},Oe=["checked"],ze={for:"default",class:"text-slate-500 text-sm font-normal leading-tight m-0"},qe={key:0,type:"submit",class:"px-8 py-2 bg-primary text-white rounded-[42px]"},Ke={key:1,type:"button",class:"px-8 py-2 bg-primary-200 text-primary text-sm md:text-base rounded-xl flex justify-center items-center gap-1",disabled:""},Ge={key:0,type:"submit",class:"px-4 py-3 md:px-6 md:py-4 bg-primary text-white text-sm md:text-base rounded-[10px] mt-6"},Je={key:1,type:"button",class:"px-4 py-3 md:px-6 md:py-4 bg-primary-200 text-primary text-sm md:text-base rounded-[10px] flex justify-center items-center gap-1",disabled:""},Qe={__name:"AddressForm",setup(We){const b=Q(),g=W(),h=X(),k=Y(),c=Z(),a=x({name:"",phone:"",area:"",flat_no:"",post_code:"",address_line:"",address_line2:"",address_type:"home",latitude:"",longitude:"",is_default:!1}),t=x({}),K={component:ae,props:{title:"Address Added",message:"Address added successfully"}},v=x(!1),G=()=>{v.value=!0,se.post("/address/store",a.value,{headers:{Authorization:c.token}}).then(()=>{a.value={},c.fetchAddresses(),g(K,{type:"default",hideProgressBar:!0,icon:!1,position:b.langDirection==="rtl"?"bottom-right":"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),h.name==="add-new-address"&&k.push({name:"manage-address"})}).catch(l=>{v.value=!1,t.value=l.response.data.errors,g.error(l.response.data.message,{position:b.langDirection==="rtl"?"bottom-right":"bottom-left"}),l.response.status===401&&(c.token=null,c.user=null,c.addresses=[],c.favoriteProducts=0,k.push("/"))})};return(l,s)=>{var $,A,w,V,U,E,P,F,C,M,S,N,D,L,T,B,R,j,H,I,O;return n(),r("div",le,[e("form",{onSubmit:s[12]||(s[12]=te(o=>G(),["prevent"]))},[e("div",oe,[e("div",null,[e("label",de,[f(d(l.$t("Name"))+" ",1),s[13]||(s[13]=e("small",{class:"text-red-500"},"*",-1))]),i(e("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=o=>a.value.name=o),placeholder:l.$t("Enter name"),class:m(["form-input",t.value&&(($=t.value)!=null&&$.name)?"border-red-500":"border-slate-200"])},null,10,re),[[p,a.value.name]]),t.value&&((A=t.value)!=null&&A.name)?(n(),r("span",ne,d((w=t.value)==null?void 0:w.name[0]),1)):u("",!0)]),e("div",null,[e("label",ie,[f(d(l.$t("Phone"))+" ",1),s[14]||(s[14]=e("small",{class:"text-red-500"},"*",-1))]),i(e("input",{type:"text",id:"Phone",placeholder:l.$t("Enter phone"),value:"0123456789",class:m(["form-input",t.value&&((V=t.value)!=null&&V.phone)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":s[1]||(s[1]=o=>a.value.phone=o),maxlength:_(b).phoneMaxLength,onInput:s[2]||(s[2]=o=>a.value.phone=a.value.phone.replace(/[^\d]/g,""))},null,42,ue),[[p,a.value.phone]]),t.value&&((U=t.value)!=null&&U.phone)?(n(),r("span",pe,d((E=t.value)==null?void 0:E.phone[0]),1)):u("",!0)])]),e("div",me,[e("div",null,[e("label",ce,d(l.$t("Area")),1),i(e("input",{type:"text",id:"Area",placeholder:l.$t("Enter Area"),class:m(["form-input",t.value&&((P=t.value)!=null&&P.area)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":s[3]||(s[3]=o=>a.value.area=o)},null,10,ve),[[p,a.value.area]]),t.value&&((F=t.value)!=null&&F.area)?(n(),r("span",he,d((C=t.value)==null?void 0:C.area[0]),1)):u("",!0)]),e("div",null,[e("label",fe,d(l.$t("Flat")),1),i(e("input",{type:"text",id:"Flat",placeholder:l.$t("Enter Flat no"),value:"",class:m(["form-input",t.value&&((M=t.value)!=null&&M.flat_no)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":s[4]||(s[4]=o=>a.value.flat_no=o)},null,10,_e),[[p,a.value.flat_no]]),t.value&&((S=t.value)!=null&&S.flat_no)?(n(),r("span",be,d((N=t.value)==null?void 0:N.flat_no[0]),1)):u("",!0)]),e("div",null,[e("label",xe,d(l.$t("Postal Code")),1),i(e("input",{type:"text",id:"Postal","onUpdate:modelValue":s[5]||(s[5]=o=>a.value.post_code=o),placeholder:l.$t("Enter Postal Code"),value:"",class:m(["form-input",t.value&&((D=t.value)!=null&&D.post_code)?"border-red-500":"border-slate-200"])},null,10,ye),[[p,a.value.post_code]]),t.value&&((L=t.value)!=null&&L.post_code)?(n(),r("span",ge,d((T=t.value)==null?void 0:T.post_code[0]),1)):u("",!0)])]),e("div",ke,[e("div",null,[e("label",$e,[f(d(l.$t("Address Line 1"))+" ",1),s[15]||(s[15]=e("small",{class:"text-red-500"},"*",-1))]),i(e("input",{type:"text",id:"address","onUpdate:modelValue":s[6]||(s[6]=o=>a.value.address_line=o),placeholder:l.$t("Enter address 1"),class:m(["form-input",t.value&&((B=t.value)!=null&&B.address_line)?"border-red-500":"border-slate-200"])},null,10,Ae),[[p,a.value.address_line]]),t.value&&((R=t.value)!=null&&R.address_line)?(n(),r("span",we,d((j=t.value)==null?void 0:j.address_line[0]),1)):u("",!0)]),e("div",null,[e("label",Ve,d(l.$t("Address Line 2")),1),i(e("input",{type:"text",id:"address2","onUpdate:modelValue":s[7]||(s[7]=o=>a.value.address_line2=o),placeholder:l.$t("Enter address 2"),value:"",class:m(["form-input",t.value&&((H=t.value)!=null&&H.address_line2)?"border-red-500":"border-slate-200"])},null,10,Ue),[[p,a.value.address_line2]]),t.value&&((I=t.value)!=null&&I.address_line2)?(n(),r("span",Ee,d((O=t.value)==null?void 0:O.address_line2[0]),1)):u("",!0)])]),e("div",Pe,[e("div",Fe,d(l.$t("Address Tag")),1),e("div",Ce,[e("div",Me,[e("label",Se,[i(e("input",{type:"radio",id:"home","onUpdate:modelValue":s[8]||(s[8]=o=>a.value.address_type=o),name:"tag",value:"home",class:"radio-btn",checked:a.value.address_type==="home"},null,8,Ne),[[y,a.value.address_type]]),e("span",De,d(l.$t("HOME")),1)]),e("label",Le,[i(e("input",{type:"radio",id:"office","onUpdate:modelValue":s[9]||(s[9]=o=>a.value.address_type=o),name:"tag",value:"office",class:"radio-btn",checked:a.value.address_type==="office"},null,8,Te),[[y,a.value.address_type]]),e("span",Be,d(l.$t("OFFICE")),1)]),e("label",Re,[i(e("input",{type:"radio",id:"other","onUpdate:modelValue":s[10]||(s[10]=o=>a.value.address_type=o),name:"tag",value:"other",class:"radio-btn",checked:a.value.address_type==="other"},null,8,je),[[y,a.value.address_type]]),e("span",He,d(l.$t("OTHER")),1)])]),e("div",Ie,[i(e("input",{id:"default","onUpdate:modelValue":s[11]||(s[11]=o=>a.value.is_default=o),name:"default",type:"checkbox",class:"w-4 h-4",checked:a.value.is_default},null,8,Oe),[[ee,a.value.is_default]]),e("label",ze,d(l.$t("Make it default address")),1)]),_(h).name!="add-new-address"&&!v.value?(n(),r("button",qe,d(l.$t("Save And Update")),1)):u("",!0),v.value&&_(h).name!="add-new-address"?(n(),r("button",Ke,[f(d(l.$t("Processing"))+" ",1),z(q)])):u("",!0)]),_(h).name==="add-new-address"&&!v.value?(n(),r("button",Ge,d(l.$t("Save And Update")),1)):u("",!0),v.value&&_(h).name==="add-new-address"?(n(),r("button",Je,[f(d(l.$t("Processing"))+" ",1),z(q)])):u("",!0)])],32)])}}},et=J(Qe,[["__scopeId","data-v-c0f07eb5"]]);export{et as A};
