import{r as p,u as q,l as J,s as O,i as Q,ab as X,y as F,B as ee,b as M,c as d,o as u,a as e,f as i,w as _,e as o,t as a,F as v,g as f,k as U,Y as te,Z as P,n as z,$ as le,a0 as ae,K as y,L as D,G as se,a2 as oe,a3 as S,a5 as ne}from"./app-Bl5ehUwr.js";import{_ as re}from"./ProductCardToggler-Dp57CS9l.js";import{r as ie,V as B}from"./default-BzizfEs2.js";import{S as L}from"./SkeletonLoader-CAfuKt9m.js";import{r as de}from"./ArrowLeftIcon--gPNJX_m.js";import"./ProductCard-CfjA0AOq.js";import"./useTruncateText-CroACzlR.js";import"./ri-star-fill-BLXujWbE.js";import"./EyeIcon-BXENTZmW.js";const ue={class:"main-container py-4 bg-slate-100 mt-[25px]"},me={key:0,class:"w-full p-2 md:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},ce={class:"text-slate-600 text-sm sm:text-base font-normal leading-normal"},pe={class:"grow overflow-x-auto whitespace-nowrap"},ve={class:"text-primary"},fe={class:"text-slate-800 text-base font-normal pl-2"},ge={class:"grow shrink basis-0"},xe={key:1,class:"w-full p-2 md:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},_e={class:"main-container py-12"},ye={class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-6 items-start"},he={key:0,class:"flex justify-center items-center w-full mt-8"},be={class:"text-slate-800 text-base font-normal leading-normal"},we={key:1,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},ke={class:"text-slate-800 text-base font-normal leading-normal"},$e={class:"fixed inset-0 overflow-hidden"},Ce={class:"absolute inset-0 overflow-hidden"},Ve={class:"flex h-full flex-col justify-between overflow-y-scroll rounded-lg rounded-tr-none rounded-br-none bg-white shadow-xl"},Pe={class:"flex flex-col gap-7"},Se={class:"flex justify-between items-center p-4 px-6 sticky top-0 right-0 z-10 bg-neutral-100"},je={class:"text-zinc-900 text-2xl font-semibold leading-loose font-['Poppins']"},Fe={class:"flex flex-col gap-4 p-4 px-6"},Me={class:"border-b border-gray-100 space-y-4 pb-4"},Ue={class:"flex justify-between items-center gap-4"},ze={class:"text-slate-900 text-lg font-['Poppins'] leading-relaxed"},De={class:"w-[98%]"},Be={class:"flex items-center gap-2"},Le={class:"flex items-center gap-1 flex-1 min-w-0"},Re={class:"p-4"},Ae={class:"text-slate-950 text-base font-medium leading-normal"},Te={class:"flex flex-col gap-2 mt-3"},He=["for"],Ge={class:"flex items-center gap-1"},Ie={class:"flex items-center"},Ne={class:"text-base font-medium leading-normal"},Ye=["id","value"],Ee={class:"p-4"},Ke={class:"text-slate-950 text-base font-medium leading-normal"},We=["value"],Ze={class:"p-4"},qe={class:"flex justify-between items-center gap-2"},Je={class:"text-slate-950 text-base font-medium leading-normal"},Oe={class:"text-primary text-base font-normal leading-normal"},Qe={class:"w-[98%]"},Xe={class:"text-slate-400 text-xs font-normal leading-none flex justify-between mt-2"},et={class:"p-4"},tt={class:"text-slate-950 text-base font-medium leading-normal"},lt={value:"",selected:""},at=["value"],st={class:"p-4"},ot={class:"text-slate-950 text-base font-medium leading-normal"},nt={value:"",selected:""},rt=["value"],it={class:"sticky bottom-0 bg-white flex gap-6 p-6 border-t border-slate-200"},V=12,yt={__name:"Products",setup(dt){const n=p([0,1e3]),R={height:"4px"},A={backgroundColor:"var(--primary)"},T={borderColor:"var(--primary)",backgroundColor:"var(--primary)",borderRadius:"0px",width:"8px"},r=q(),H=J(),g=p(!0),{viewportWidth:j}=O();Q(()=>{$(),window.scrollTo(0,0),w.value=!0}),X(()=>{w.value=!1,r.search=null}),r.search,F(()=>r.search,()=>{$()});const x=p(1),G=ee(()=>j.value<=320?2:j.value<=780?3:5),I=s=>{x.value=s,$()},h=p(!1),m=p({rating:null,sort_type:"default",brand_id:"",color_id:null,size_id:null,min_price:null,max_price:null,category_id:""}),c=p({sizes:[],brands:[],colors:[],min_price:0,max_price:1e3}),N=[5,4,3,2,1];r.categories;const b=p([]),k=p(0),w=p(!0),$=async()=>{g.value=!0,window.scrollTo({top:0,behavior:"smooth"}),axios.get("/products",{params:{page:x.value,per_page:V,search:r.search,...m.value},headers:{"Accept-Language":r.locale||"en",currency_id:r.selectedCurrency.id}}).then(s=>{k.value=s.data.data.total,b.value=s.data.data.products,c.value=s.data.data.filters,w.value&&(n.value=[Math.floor(c.value.min_price),Math.floor(c.value.max_price)]),setTimeout(()=>{g.value=!1},200)}).catch(s=>{g.value=!1})},Y=()=>{m.value={rating:null,short_by:"default",brand_id:"",color_id:null,size_id:null,min_price:c.value.min_price,max_price:c.value.max_price,category_id:""},n.value=[Math.floor(c.value.min_price),Math.floor(c.value.max_price)],w.value=!0},E=()=>{m.value.min_price=n.value[0],m.value.max_price=n.value[1],w.value=!1,r.search=null,x.value=1,h.value=!1,$()},K=[{name:"Default Sorting",value:"default"},{name:"High to Low",value:"high_to_low"},{name:"Low to High",value:"low_to_high"},{name:"Most Selling",value:"top_selling"},{name:"New Product",value:"newest"}];return F(()=>m.value.category_id,()=>{H.push("/categories/"+m.value.category_id)}),(s,l)=>{const W=M("router-link"),Z=M("vue-awesome-paginate");return u(),d("div",null,[e("div",ue,[g.value?(u(),d("div",xe,[(u(),d(v,null,f(2,t=>i(L,{class:"w-24 sm:w-32 md:w-72 lg:w-96 h-12 rounded"})),64))])):(u(),d("div",me,[i(W,{to:"/",class:"py-2 flex gap-1 sm:gap-2 items-center justify-center"},{default:_(()=>[i(o(de),{class:"w-4 h-4 sm:w-6 sm:h-6 text-slate-600"}),e("div",ce,a(s.$t("Back")),1)]),_:1}),e("div",pe,[e("span",ve,"“"+a(o(r).search||"all")+"”",1),e("span",fe,a(k.value)+" "+a(s.$t("items found")),1)]),e("div",null,[e("button",{class:"p-2 sm:px-4 sm:py-3 bg-slate-200 rounded-md sm:rounded-[10px] justify-center items-center gap-2 inline-flex text-slate-600 text-sm sm:text-base font-normal leading-normal border-0 outline-none hover:text-primary transition duration-300",onClick:l[0]||(l[0]=t=>h.value=!0)},[i(o(ie),{class:"w-4 h-4 sm:w-6 sm:h-6"}),e("div",ge,a(s.$t("Filter")),1)])])]))]),e("div",_e,[e("div",ye,[g.value?(u(),d(v,{key:1},f(12,t=>e("div",{key:t},[i(L,{class:"w-full h-[220px] sm:h-[330px] rounded-lg"})])),64)):(u(!0),d(v,{key:0},f(b.value,t=>(u(),d("div",{key:t.id,class:"w-full"},[i(re,{productData:t},null,8,["productData"])]))),128))]),b.value.length==0&&!g.value?(u(),d("div",he,[e("div",be,a(s.$t("No products found")),1)])):U("",!0),b.value.length>0&&!g.value?(u(),d("div",we,[e("div",ke,a(s.$t("Showing"))+" "+a(V*(x.value-1)+1)+" "+a(s.$t("to"))+" "+a(V*(x.value-1)+b.value.length)+" "+a(s.$t("of"))+" "+a(k.value)+" "+a(s.$t("results")),1),e("div",null,[i(Z,{"total-items":k.value,"items-per-page":V,type:"button","max-pages-shown":G.value,modelValue:x.value,"onUpdate:modelValue":l[1]||(l[1]=t=>x.value=t),"hide-prev-next-when-ends":!0,onClick:I},null,8,["total-items","max-pages-shown","modelValue"])])])):U("",!0)]),i(o(ne),{as:"template",show:h.value},{default:_(()=>[i(o(te),{as:"div",class:"relative z-50",onClose:l[13]||(l[13]=t=>h.value=!1)},{default:_(()=>[i(o(P),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[...l[14]||(l[14]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-30 transition-opacity"},null,-1)])]),_:1}),e("div",$e,[e("div",Ce,[e("div",{class:z(["pointer-events-none fixed inset-y-0 flex max-w-full",o(r).langDirection=="rtl"?"left-0 sm:pr-10":"right-0 sm:pl-10"])},[i(o(P),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":o(r).langDirection=="rtl"?"-translate-x-full":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":o(r).langDirection=="rtl"?"-translate-x-full":"translate-x-full"},{default:_(()=>[i(o(le),{class:"pointer-events-auto relative w-screen max-w-md"},{default:_(()=>[i(o(P),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[...l[15]||(l[15]=[e("div",{class:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4"},null,-1)])]),_:1}),e("div",Ve,[e("div",Pe,[e("div",Se,[e("div",je,a(s.$t("Filter")),1),e("button",{class:"w-8 h-8 flex justify-center items-center bg-slate-100 rounded-full",onClick:l[2]||(l[2]=t=>h.value=!1)},[i(o(ae),{class:"w-5 h-5 text-slate-700"})])]),e("section",Fe,[e("div",Me,[e("div",Ue,[e("div",ze,a(s.$t("Filter by Price")),1),l[16]||(l[16]=e("button",{class:"w-14 h-8 px-2.5 py-1.5 bg-primary rounded inline-flex justify-center items-center gap-2 text-white text-sm font-medium font-['Poppins'] leading-snug"}," Filter ",-1))]),e("div",De,[i(o(B),{modelValue:n.value,"onUpdate:modelValue":l[3]||(l[3]=t=>n.value=t),min:c.value.min_price,max:c.value.max_price,"rail-style":R,"process-style":A,"dot-style":T},null,8,["modelValue","min","max","process-style"])]),e("div",Be,[l[18]||(l[18]=e("p",{class:"text-slate-500 text-base font-normal font-['Poppins'] leading-normal flex-shrink-0"}," Price: ",-1)),e("div",Le,[y(e("input",{"onUpdate:modelValue":l[4]||(l[4]=t=>n.value[0]=t),onInput:l[5]||(l[5]=t=>n.value=[t.target.valueAsNumber,n.value[1]]),type:"number",name:"min-price",class:"h-8 flex-1 min-w-0 px-4 bg-neutral-100 rounded text-zinc-900 text-sm font-normal font-['Poppins'] leading-snug outline outline-1 outline-offset-[-1px] outline-gray-300"},null,544),[[D,n.value[0]]]),l[17]||(l[17]=e("p",{class:"text-gray-700 text-base font-normal font-['Poppins'] leading-normal px-1"}," - ",-1)),y(e("input",{"onUpdate:modelValue":l[6]||(l[6]=t=>n.value[1]=t),onInput:l[7]||(l[7]=t=>n.value=[n.value[0],t.target.valueAsNumber]),type:"number",name:"max-price",class:"h-8 flex-1 min-w-0 px-4 bg-neutral-100 rounded text-zinc-900 text-sm font-normal font-['Poppins'] leading-snug outline outline-1 outline-offset-[-1px] outline-gray-300"},null,544),[[D,n.value[1]]])])])])]),e("div",Re,[e("div",Ae,a(s.$t("Customer Review")),1),e("div",Te,[(u(),d(v,null,f(N,t=>e("div",{key:t},[e("label",{for:`rating${t}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between px-2 py-1.5 bg-white rounded-lg border border-slate-100 gap-1.5"},[e("div",Ge,[e("div",Ie,[(u(),d(v,null,f(5,C=>i(o(se),{key:C,class:z(["w-5 h-5",C<=t?"text-amber-500":"text-gray-200"])},null,8,["class"])),64))]),e("div",Ne,a(t)+".0 ",1)]),y(e("input",{type:"radio","onUpdate:modelValue":l[8]||(l[8]=C=>m.value.rating=C),id:`rating${t}`,name:"rating",class:"w-5 h-5 appearance-none checked:bg-primary rounded-full border-2 border-slate-300 shrink-0 transition duration-300",value:t},null,8,Ye),[[oe,m.value.rating]])],8,He)])),64))])]),e("div",Ee,[e("div",Ke,a(s.$t("Sort by")),1),y(e("select",{"onUpdate:modelValue":l[9]||(l[9]=t=>m.value.sort_type=t),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[(u(),d(v,null,f(K,t=>e("option",{key:t,value:t.value},a(t.name),9,We)),64))],512),[[S,m.value.sort_type]])]),e("div",Ze,[e("div",qe,[e("div",Je,a(s.$t("Product Price")),1),e("div",Oe,a(o(r).showCurrency(n.value[0]))+" - "+a(o(r).showCurrency(n.value[1])),1)]),e("div",Qe,[i(o(B),{modelValue:n.value,"onUpdate:modelValue":l[10]||(l[10]=t=>n.value=t),min:c.value.min_price,max:c.value.max_price},null,8,["modelValue","min","max"])]),e("div",Xe,[e("span",null,a(o(r).showCurrency(c.value.min_price)),1),e("span",null,a(o(r).showCurrency(c.value.max_price)),1)])]),e("div",et,[e("div",tt,a(s.$t("Category")),1),y(e("select",{"onUpdate:modelValue":l[11]||(l[11]=t=>m.value.category_id=t),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[e("option",lt,a(s.$t("Select Category")),1),(u(!0),d(v,null,f(o(r).categories,t=>(u(),d("option",{key:t.id,value:t.id},a(t.name),9,at))),128))],512),[[S,m.value.category_id]])]),e("div",st,[e("div",ot,a(s.$t("Brand")),1),y(e("select",{"onUpdate:modelValue":l[12]||(l[12]=t=>m.value.brand_id=t),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[e("option",nt,a(s.$t("Select Brand")),1),(u(!0),d(v,null,f(c.value.brands,t=>(u(),d("option",{key:t.id,value:t.id},a(t.name),9,rt))),128))],512),[[S,m.value.brand_id]])])]),e("div",it,[e("button",{class:"grow px-4 py-3 rounded-[10px] border border-primary text-primary text-base font-medium leading-normal",onClick:Y},a(s.$t("Clear")),1),e("button",{class:"grow px-4 py-3 bg-primary rounded-[10px] border border-primary text-white text-base font-medium leading-normal",onClick:E},a(s.$t("Apply")),1)])])]),_:1})]),_:1},8,["enter-from","leave-to"])],2)])])]),_:1})]),_:1},8,["show"])])}}};export{yt as default};
