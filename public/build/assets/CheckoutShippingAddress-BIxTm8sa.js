import{ai as oe,p as U,m as re,d as F,o as i,w as g,f as p,e,Y as le,a as t,Z as se,$ as de,a0 as ne,t as a,c,F as ie,g as ce,ae,k as u,af as me,a5 as ue,_ as pe,u as he,q as fe,H as _e,l as xe,r as M,K as f,h as S,L as _,n as x,a2 as E,C as be,v as ge,i as ye,y as ve,T as te}from"./app-Bl5ehUwr.js";import{A as $e}from"./AddressForm-B4ZnDTlH.js";import{_ as ke}from"./ToastSuccessMessage-CiNTeRAj.js";import{A as we}from"./AddressFormModal-vamdzXnB.js";const Ae=oe("guestAddress",{state:()=>({name:null,email:null,country:null,phone_code:null,phone:null,area:null,flat_no:null,post_code:null,address_line:null,address_line2:null,address_type:null,langitude:null,longitude:null,errors:{}}),actions:{clearGuestAddress(){this.name=null,this.email=null,this.country=null,this.phone_code=null,this.phone=null,this.area=null,this.flat_no=null,this.post_code=null,this.address_line=null,this.address_line2=null,this.langitude=null,this.longitude=null,this.errors={}}}}),Ce={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},Se={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},Me={class:"bg-white p-5 sm:p-8 relative"},Ve={class:"text-slate-950 text-2xl font-medium"},Ee={class:"mt-6 space-y-6"},Fe=["for","onClick"],Ue={class:"flex sm:h-20 w-[60px] sm:w-[88px] bg-slate-50 rounded-lg flex-col gap-2 justify-center items-center shrink-0"},Pe={class:"px-1.5 py-[3px] bg-slate-800 rounded-md text-white text-xs font-medium uppercase"},je={class:"grow overflow-hidden"},De={class:"flex justify-between items-center mb-1 pr-1"},Be={class:"text-slate-950 text-lg font-medium leading-normal tracking-tight"},Ne=["id","checked"],Te={class:"text-slate-500 text-base font-normal leading-normal"},Le={class:"text-slate-500 text-base font-normal leading-normal truncate"},Ge={key:0,class:"text-blue-500 mt-1 text-sm font-normal leading-[18px] italic"},ze={class:"text-base font-medium leading-normal"},Re={__name:"AddressChangeDialogModal",setup(P){const d=U(),s=re(),b=()=>{d.showChangeAddressModal=!1,d.showAddressModal=!0};return(h,m)=>(i(),F(e(ue),{as:"template",show:e(d).showChangeAddressModal},{default:g(()=>[p(e(le),{as:"div",class:"relative z-50",onClose:m[2]||(m[2]=o=>e(d).showChangeAddressModal=!1)},{default:g(()=>[p(e(se),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>[...m[3]||(m[3]=[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-50 transition-opacity"},null,-1)])]),_:1}),t("div",Ce,[t("div",Se,[p(e(se),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:g(()=>[p(e(de),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all my-8 md:my-3 w-full md:max-w-2xl"},{default:g(()=>[t("div",Me,[t("div",{class:"w-9 h-9 bg-slate-100 rounded-[32px] absolute top-4 right-4 flex justify-center items-center cursor-pointer",onClick:m[0]||(m[0]=o=>e(d).showChangeAddressModal=!1)},[p(e(ne),{class:"w-6 h-6 text-slate-600"})]),t("div",Ve,a(h.$t("Saved Address")),1),t("div",Ee,[(i(!0),c(ie,null,ce(e(d).addresses,o=>(i(),c("label",{key:o.id,for:"address"+o.id,class:"mt-4 p-4 flex gap-6 rounded-lg border border-slate-200 has-[:checked]:border-primary cursor-pointer",onClick:y=>e(s).address=o},[t("div",Ue,[p(e(ae),{class:"w-6 h-6 text-primary-600"}),t("div",Pe,a(o.address_type),1)]),t("div",je,[t("div",De,[t("div",Be,a(o.name),1),t("input",{type:"radio",name:"address",id:"address"+o.id,value:"",class:"radioBtn2",checked:e(s).address.id==o.id},null,8,Ne)]),t("div",Te,a(o.phone),1),t("div",Le,a((o.flat_no?o.flat_no+", ":"")+o.address_line+", "+(o.address_line2?o.address_line2+", ":""))+", "+a(o.area+"-"+o.post_code),1),o.is_default?(i(),c("div",Ge,a(h.$t("Default Address")),1)):u("",!0)])],8,Fe))),128))]),t("button",{class:"px-6 py-4 rounded-[10px] border border-primary flex justify-center items-center w-full mt-6 text-primary hover:bg-primary hover:text-white gap-1",onClick:m[1]||(m[1]=o=>b())},[p(e(me),{class:"w-5 h-5"}),t("div",ze,a(h.$t("New Address")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},He={class:"p-6 bg-white rounded-2xl border border-slate-200 mt-3"},Ie={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Oe={for:"email",class:"form-label mb-2"},Ye=["placeholder"],qe={key:0,class:"text-red-500 text-sm"},Ke={for:"name",class:"form-label mb-2"},Ze=["placeholder"],Je={key:0,class:"text-red-500 text-sm"},Qe={for:"Phone",class:"form-label mb-2"},We=["placeholder","maxlength"],Xe={key:0,class:"text-red-500 text-sm"},es={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 mt-6"},ss={for:"Area",class:"form-label mb-2"},ts=["placeholder"],rs={key:0,class:"text-red-500 text-sm"},as={for:"Flat",class:"form-label mb-2"},os=["placeholder"],ls={key:0,class:"text-red-500 text-sm"},ds={for:"Postal",class:"form-label mb-2"},ns=["placeholder"],is={key:0,class:"text-red-500 text-sm"},cs={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6"},ms={for:"address",class:"form-label mb-2"},us=["placeholder"],ps={key:0,class:"text-red-500 text-sm"},hs={for:"address2",class:"form-label mb-2"},fs=["placeholder"],_s={key:0,class:"text-red-500 text-sm"},xs={class:"mt-4"},bs={class:"text-slate-950 text-base font-medium leading-normal"},gs={class:"flex justify-between items-center gap-2 mt-2 flex-wrap"},ys={class:"flex items-center flex-wrap gap-2"},vs={for:"home",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},$s=["checked"],ks={class:"text-base font-normal"},ws={for:"office",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},As=["checked"],Cs={class:"text-base font-normal"},Ss={for:"other",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},Ms=["checked"],Vs={class:"text-base font-normal"},Es={__name:"GuestAddressForm",setup(P){const d=he(),s=Ae(),b=fe(),h=_e(),m=xe(),o=U(),y=M({name:"",email:"",phone:"",area:"",flat_no:"",post_code:"",address_line:"",address_line2:"",address_type:"home",latitude:"",longitude:"",is_default:!1}),w=M({}),A={component:ke,props:{title:"Address Added",message:"Address added successfully"}},v=M(!1),C=()=>{v.value=!0,ge.post("/address/store",y.value,{headers:{Authorization:o.token}}).then(()=>{y.value={},o.fetchAddresses(),b(A,{type:"default",hideProgressBar:!0,icon:!1,position:d.langDirection==="rtl"?"bottom-right":"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),h.name==="add-new-address"&&m.push({name:"manage-address"})}).catch(l=>{v.value=!1,w.value=l.response.data.errors,b.error(l.response.data.message,{position:d.langDirection==="rtl"?"bottom-right":"bottom-left"}),l.response.status===401&&(o.token=null,o.user=null,o.addresses=[],o.favoriteProducts=0,m.push("/"))})};return(l,r)=>{var $,k,V,j,D,B,N,T,L,G,z,R,H,I,O,Y,q,K,Z,J,Q,W,X,ee;return i(),c("div",He,[t("form",{onSubmit:r[12]||(r[12]=be(n=>C(),["prevent"]))},[t("div",Ie,[t("div",null,[t("label",Oe,[S(a(l.$t("Email"))+" ",1),r[13]||(r[13]=t("small",{class:"text-red-500"},"*",-1))]),f(t("input",{type:"email",id:"email","onUpdate:modelValue":r[0]||(r[0]=n=>e(s).email=n),placeholder:l.$t("Enter email"),class:x(["form-input",e(s).errors&&(($=e(s).errors)!=null&&$.email)?"border-red-500":"border-slate-200"])},null,10,Ye),[[_,e(s).email]]),e(s).errors&&((k=e(s).errors)!=null&&k.email)?(i(),c("span",qe,a((V=e(s).errors)==null?void 0:V.email[0]),1)):u("",!0)]),t("div",null,[t("label",Ke,[S(a(l.$t("Name"))+" ",1),r[14]||(r[14]=t("small",{class:"text-red-500"},"*",-1))]),f(t("input",{type:"text",id:"name","onUpdate:modelValue":r[1]||(r[1]=n=>e(s).name=n),placeholder:l.$t("Enter name"),class:x(["form-input",e(s).errors&&((j=e(s).errors)!=null&&j.name)?"border-red-500":"border-slate-200"])},null,10,Ze),[[_,e(s).name]]),e(s).errors&&((D=e(s).errors)!=null&&D.name)?(i(),c("span",Je,a((B=e(s).errors)==null?void 0:B.name[0]),1)):u("",!0)]),t("div",null,[t("label",Qe,[S(a(l.$t("Phone"))+" ",1),r[15]||(r[15]=t("small",{class:"text-red-500"},"*",-1))]),f(t("input",{type:"text",id:"Phone",placeholder:l.$t("Enter phone"),value:"0123456789",class:x(["form-input",e(s).errors&&((N=e(s).errors)!=null&&N.phone)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":r[2]||(r[2]=n=>e(s).phone=n),maxlength:e(d).phoneMaxLength,onInput:r[3]||(r[3]=n=>e(s).phone=e(s).phone.replace(/[^\d]/g,""))},null,42,We),[[_,e(s).phone]]),e(s).errors&&((T=e(s).errors)!=null&&T.phone)?(i(),c("span",Xe,a((L=e(s).errors)==null?void 0:L.phone[0]),1)):u("",!0)])]),t("div",es,[t("div",null,[t("label",ss,a(l.$t("Area")),1),f(t("input",{type:"text",id:"Area",placeholder:l.$t("Enter Area"),class:x(["form-input",e(s).errors&&((G=e(s).errors)!=null&&G.area)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":r[4]||(r[4]=n=>e(s).area=n)},null,10,ts),[[_,e(s).area]]),e(s).errors&&((z=e(s).errors)!=null&&z.area)?(i(),c("span",rs,a((R=e(s).errors)==null?void 0:R.area[0]),1)):u("",!0)]),t("div",null,[t("label",as,a(l.$t("Flat")),1),f(t("input",{type:"text",id:"Flat",placeholder:l.$t("Enter Flat no"),value:"",class:x(["form-input",e(s).errors&&((H=e(s).errors)!=null&&H.flat_no)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":r[5]||(r[5]=n=>e(s).flat_no=n)},null,10,os),[[_,e(s).flat_no]]),e(s).errors&&((I=e(s).errors)!=null&&I.flat_no)?(i(),c("span",ls,a((O=e(s).errors)==null?void 0:O.flat_no[0]),1)):u("",!0)]),t("div",null,[t("label",ds,a(l.$t("Postal Code")),1),f(t("input",{type:"text",id:"Postal","onUpdate:modelValue":r[6]||(r[6]=n=>e(s).post_code=n),placeholder:l.$t("Enter Postal Code"),value:"",class:x(["form-input",e(s).errors&&((Y=e(s).errors)!=null&&Y.post_code)?"border-red-500":"border-slate-200"])},null,10,ns),[[_,e(s).post_code]]),e(s).errors&&((q=e(s).errors)!=null&&q.post_code)?(i(),c("span",is,a((K=e(s).errors)==null?void 0:K.post_code[0]),1)):u("",!0)])]),t("div",cs,[t("div",null,[t("label",ms,[S(a(l.$t("Address Line 1"))+" ",1),r[16]||(r[16]=t("small",{class:"text-red-500"},"*",-1))]),f(t("input",{type:"text",id:"address","onUpdate:modelValue":r[7]||(r[7]=n=>e(s).address_line=n),placeholder:l.$t("Enter address 1"),class:x(["form-input",e(s).errors&&((Z=e(s).errors)!=null&&Z.address_line)?"border-red-500":"border-slate-200"])},null,10,us),[[_,e(s).address_line]]),e(s).errors&&((J=e(s).errors)!=null&&J.address_line)?(i(),c("span",ps,a((Q=e(s).errors)==null?void 0:Q.address_line[0]),1)):u("",!0)]),t("div",null,[t("label",hs,a(l.$t("Address Line 2")),1),f(t("input",{type:"text",id:"address2","onUpdate:modelValue":r[8]||(r[8]=n=>e(s).address_line2=n),placeholder:l.$t("Enter address 2"),value:"",class:x(["form-input",e(s).errors&&((W=e(s).errors)!=null&&W.address_line2)?"border-red-500":"border-slate-200"])},null,10,fs),[[_,e(s).address_line2]]),e(s).errors&&((X=e(s).errors)!=null&&X.address_line2)?(i(),c("span",_s,a((ee=e(s).errors)==null?void 0:ee.address_line2[0]),1)):u("",!0)])]),t("div",xs,[t("div",bs,a(l.$t("Address Tag")),1),t("div",gs,[t("div",ys,[t("label",vs,[f(t("input",{type:"radio",id:"home","onUpdate:modelValue":r[9]||(r[9]=n=>e(s).address_type=n),name:"tag",value:"home",class:"radio-btn",checked:e(s).address_type==="home"},null,8,$s),[[E,e(s).address_type]]),t("span",ks,a(l.$t("HOME")),1)]),t("label",ws,[f(t("input",{type:"radio",id:"office","onUpdate:modelValue":r[10]||(r[10]=n=>e(s).address_type=n),name:"tag",value:"office",class:"radio-btn",checked:e(s).address_type==="office"},null,8,As),[[E,e(s).address_type]]),t("span",Cs,a(l.$t("OFFICE")),1)]),t("label",Ss,[f(t("input",{type:"radio",id:"other","onUpdate:modelValue":r[11]||(r[11]=n=>e(s).address_type=n),name:"tag",value:"other",class:"radio-btn",checked:e(s).address_type==="other"},null,8,Ms),[[E,e(s).address_type]]),t("span",Vs,a(l.$t("OTHER")),1)])])])])],32)])}}},Fs=pe(Es,[["__scopeId","data-v-d3fa0cce"]]),Us={class:"mt-6 sm:mt-8 flex justify-between items-center gap-2"},Ps={class:"text-slate-950 text-xl font-medium leading-7"},js={key:0},Ds={key:2,class:"mt-4 p-4 flex gap-6 rounded-lg border border-slate-200 w-full"},Bs={class:"flex w-[60px] sm:w-[88px] bg-slate-50 rounded-lg flex-col gap-2 justify-center items-center shrink-0"},Ns={class:"px-1.5 py-[3px] bg-slate-800 rounded-md text-white text-xs font-medium uppercase"},Ts={class:"overflow-hidden"},Ls={class:"text-slate-950 text-lg font-medium leading-normal tracking-tight"},Gs={class:"text-slate-500 text-base font-normal leading-normal"},zs={class:"text-slate-500 text-base font-normal leading-normal truncate"},Ys={__name:"CheckoutShippingAddress",setup(P){const d=re();M(!1);const s=U();ye(()=>{s.fetchAddresses(),b()});const b=()=>{d.address||s.addresses.forEach(h=>{if(h.is_default)return d.address=h,!0})};return ve(()=>s.user,()=>{s.fetchAddresses(),b()}),(h,m)=>{var o,y,w,A,v,C,l,r,$,k;return i(),c("div",null,[t("div",Us,[t("div",Ps,a(h.$t("Shipping Address")),1),e(s).addresses.length>0?(i(),c("button",{key:0,class:"text-slate-950 text-base font-normal leading-normal",onClick:m[0]||(m[0]=V=>e(s).showChangeAddressModal=!0)},a(h.$t("Change")),1)):u("",!0)]),e(s).user?(i(),F(te,{key:0,"leave-active-class":"transition ease-in duration-300","enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:g(()=>[e(s).addresses.length==0?(i(),c("div",js,[p($e)])):u("",!0)]),_:1})):e(s).access_token?(i(),F(te,{key:1,"leave-active-class":"transition ease-in duration-300","enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:g(()=>[t("div",null,[p(Fs)])]),_:1})):u("",!0),e(s).addresses.length>0?(i(),c("div",Ds,[t("div",Bs,[p(e(ae),{class:"w-6 h-6 text-primary-600"}),t("div",Ns,a((o=e(d).address)==null?void 0:o.address_type),1)]),t("div",Ts,[t("div",Ls,a((y=e(d).address)==null?void 0:y.name),1),t("div",Gs,a((w=e(d).address)==null?void 0:w.phone),1),t("div",zs,a(((A=e(d).address)!=null&&A.flat_no?((v=e(d).address)==null?void 0:v.flat_no)+", ":"")+((C=e(d).address)==null?void 0:C.address_line)+", "+((l=e(d).address)!=null&&l.address_line2?((r=e(d).address)==null?void 0:r.address_line2)+", ":""))+" "+a((($=e(d).address)==null?void 0:$.area)+"-"+((k=e(d).address)==null?void 0:k.post_code)),1)])])):u("",!0),p(Re),p(we)])}}};export{Ys as _,Ae as u};
