import{c as o,o as l,a as e,t as s,F as c,g as v,f as r,n as k,e as _,G as oe,E as me,p as ge,u as fe,l as he,H as we,r as n,i as _e,b as xe,d as z,k as w,C as ye,I as be,J as ke,K as $e,L as Re,w as I}from"./app-Bl5ehUwr.js";import{a as ae,S as Ce}from"./swiper-CFhM11fZ.js";import{f as Pe}from"./free-mode-BBCn4x4n.js";import{R as je}from"./Review-BT4strTU.js";import{S as g}from"./SkeletonLoader-CAfuKt9m.js";import{_ as Ve}from"./ProductCardToggler-Dp57CS9l.js";import"./ProductCard-CfjA0AOq.js";import"./useTruncateText-CroACzlR.js";import"./ri-star-fill-BLXujWbE.js";import"./EyeIcon-BXENTZmW.js";function Se(A,u){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z","clip-rule":"evenodd"})])}const Me={class:"flex flex-col sm:flex-row gap-4 lg:gap-12 items-center mt-3"},Te={class:"flex flex-col gap-2.5 items-center sm:items-start"},Be={class:"text-slate-950 text-2xl font-bold"},Le={class:"flex"},Ne={class:"text-slate-600 text-base font-normal leading-normal"},ze={class:"flex items-center flex-col w-full"},Ae={class:"text-slate-900 text-base font-medium"},De={class:"h-2 bg-slate-200 rounded w-full"},Fe={class:"pl-4 w-[80px] text-slate-300 text-base font-normal"},He={__name:"ReviewRatings",props:{reviewRatings:Object,averageRating:Number,totalReview:Number},setup(A){const u=A;return($,V)=>{var S;return l(),o("div",Me,[e("div",Te,[e("div",Be,s((S=u.averageRating)==null?void 0:S.toFixed(1)),1),e("div",Le,[(l(),o(c,null,v(5,p=>r(_(oe),{key:p,class:k(["w-6 h-6",p<=u.averageRating?"text-amber-500":"text-slate-300"])},null,8,["class"])),64))]),e("div",Ne,s(u.totalReview)+" "+s($.$t("reviews")),1)]),V[0]||(V[0]=e("div",{class:"hidden w-px h-[88px] bg-slate-200"},null,-1)),e("div",ze,[(l(!0),o(c,null,v(u.reviewRatings,(p,m)=>(l(),o("div",{key:p.id,class:"h-6 w-full justify-start items-center gap-2 inline-flex"},[e("span",Ae,s(m),1),e("div",De,[e("div",{class:"h-full bg-amber-500 rounded",style:me({width:p+"%"})},null,4)]),e("div",Fe,s(p)+"% ",1)]))),128))])])}}},Ue={class:""},Ie={class:"h-56 md:h-64 w-full"},Ee=["src"],Oe={class:"main-container relative bg-primary-50 py-10 pt-24"},Ze={class:"-top-32 sm:-top-28 lg:-top-[108px] absolute left-0 right-0 main-container"},Ge={key:0,class:"w-full p-6 bg-white rounded-2xl shadow flex-col gap-2 sm:gap-6 flex"},Je={class:"flex justify-between w-full gap-3 sm:gap-6 flex-wrap sm:flex-nowrap"},Ke={class:"flex grow gap-6"},qe={class:"w-16 h-16 md:w-[88px] md:h-[88px] rounded-full overflow-hidden shrink-0"},Qe=["src"],We={class:"flex flex-col items-start gap-2"},Xe={class:"flex justify-start items-center w-full gap-2 flex-wrap lg:flex-nowrap"},Ye={class:"text-slate-950 text-lg font-bold leading-normal tracking-tight text-nowrap"},et={class:"flex justify-start items-center gap-4"},tt={class:"text-slate-500 text-base font-normal leading-normal"},st={class:"text-slate-500 text-sm font-normal leading-tight"},lt=["innerHTML"],at={class:"w-full flex justify-end gap-5 my-2"},ot={class:"sm:border-l border-slate-200 w-full sm:w-[140px] md:w-[140px] flex flex-row-reverse sm:flex-col justify-end sm:justify-start items-end gap-2"},nt={class:"flex gap-1"},it={class:"text-slate-800 text-base font-bold leading-normal"},rt={class:"text-slate-500 text-base font-normal leading-normal"},dt={class:"flex"},ut={class:"flex justify-between items-center w-full"},ct={class:"lg:w-[448px] relative hidden sm:block"},vt=["placeholder"],pt={class:"pt-10"},mt=["src"],gt={class:"main-container py-10 pt-24"},ft={class:"mt-12"},ht={key:0,class:"w-full"},wt={key:0,class:"text-slate-950 text-xl font-medium leading-7"},_t={key:1,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},xt={class:"text-slate-800 text-base font-normal leading-normal"},yt={key:1,class:"w-full"},bt={class:"grid grid-cols-1 xl:grid-cols-2 gap-8 items-start"},kt={class:"text-slate-950 text-xl font-medium leading-7"},$t={class:"text-slate-950 text-xl font-medium leading-7"},Rt={class:"mt-4"},Ct={class:"w-full flex gap-3 items-center"},Pt={class:"w-full space-y-2"},jt={key:2,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},Vt={class:"text-slate-800 text-base font-normal leading-normal"},St={key:3},Mt={class:"text-slate-700 text-xl font-medium leading-7 italic"},It={__name:"ShopDetails",setup(A){const u=ge(),$=fe(),V=new he,S=we(),p=[Pe],m=n(!0),x=n(!0),y=n(!1),R=n(!0),C=n(!1),f=n(1),M=n(12),ne=t=>{f.value=t,N()},T=n(5),b=n(1),ie=t=>{b.value=t,O()},d=n({}),P=n([]),D=n(0),F=n({}),B=n(0),j=n([]),H=n(""),U=n(!1),L=n(null);let E=null;const re=()=>{clearTimeout(E),E=setTimeout(()=>{f.value=1,R.value=!0,C.value=!1,N()},1e3)};_e(()=>{if(!$.multiVendor){V.push("/");return}ue(),window.scrollTo(0,0),N()});const de=()=>{R.value=!1,C.value=!0,O()},ue=async()=>{m.value=!0,axios.get("/shops/"+S.params.slug).then(t=>{d.value=t.data.data.shop,N(),setTimeout(()=>{m.value=!1},200)}).catch(t=>{m.value=!1})},N=async()=>{x.value=!0,axios.get("/products",{params:{shop_id:d.value.id,page:f.value,per_page:M.value,search:H.value},headers:{"Accept-Language":$.locale||"en",Authorization:u.token}}).then(t=>{D.value=t.data.data.total,P.value=t.data.data.products,x.value=!1}).catch(t=>{x.value=!1})},O=async()=>{y.value=!0,axios.get("/reviews",{params:{shop_id:d.value.id,page:b.value,per_page:T.value}}).then(t=>{B.value=t.data.data.total,j.value=t.data.data.reviews,F.value=t.data.data.average_rating_percentage,y.value=!1}).catch(t=>{y.value=!1})},ce={320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:10},1024:{slidesPerView:2,spaceBetween:30},1280:{slidesPerView:3,spaceBetween:30}},ve=t=>{if(u.token===null)return u.loginModal=!0;L.value=t,pe()},pe=async()=>{var t;await axios.post("/store-message",{shop_id:L.value.id,user_id:(t=u==null?void 0:u.user)==null?void 0:t.id,type:"user"},{headers:{Authorization:u.token}}),U.value=!0};return(t,i)=>{var G,J,K,q,Q,W,X,Y,ee,te,se,le;const Z=xe("vue-awesome-paginate");return l(),o("div",Ue,[e("div",Ie,[m.value?(l(),z(g,{key:1,class:"w-full h-full"})):(l(),o("img",{key:0,src:(G=d.value)==null?void 0:G.banner,loading:"lazy",class:"w-full h-full object-cover"},null,8,Ee))]),e("div",Oe,[e("div",Ze,[m.value?(l(),z(g,{key:1,class:"w-full h-48 p-6 rounded-2xl"})):(l(),o("div",Ge,[e("div",Je,[e("div",Ke,[e("div",qe,[e("img",{src:(J=d.value)==null?void 0:J.logo,loading:"lazy",class:"w-full h-full object-cover"},null,8,Qe)]),e("div",We,[e("div",Xe,[e("div",Ye,s((K=d.value)==null?void 0:K.name),1),e("div",{class:k(["px-1 py-0.5 rounded-[10px] text-white text-xs font-normal leading-none",((q=d.value)==null?void 0:q.shop_status)==="Online"?"bg-lime-600":"bg-slate-500"])},s((Q=d.value)==null?void 0:Q.shop_status),3)]),e("div",et,[e("div",tt,s((W=d.value)==null?void 0:W.total_products)+"+ "+s(t.$t("Items")),1)]),e("div",st,[e("div",{innerHTML:(X=d.value)==null?void 0:X.description},null,8,lt)])])]),e("div",at,[e("div",ot,[e("div",nt,[e("div",it,s((ee=(Y=d.value)==null?void 0:Y.rating)==null?void 0:ee.toFixed(1)),1),e("div",rt," ("+s((te=d.value)==null?void 0:te.total_reviews)+") ",1)]),e("div",dt,[(l(),o(c,null,v(5,a=>{var h;return r(_(oe),{key:a,class:k(["w-4 h-4",a<=((h=d.value)==null?void 0:h.rating)?"text-amber-500":"text-gray-300"])},null,8,["class"])}),64))])]),e("div",{onClick:i[0]||(i[0]=ye(a=>ve(d.value),["stop"])),class:"w-12 h-12 flex justify-center items-center bg-red-50 rounded-lg cursor-pointer"},[...i[7]||(i[7]=[e("img",{src:be,alt:"chat",class:"w-8 h-8"},null,-1)])])])]),L.value?(l(),z(ke,{key:0,show:U.value,onClose:i[1]||(i[1]=a=>U.value=!1),shop:L.value},null,8,["show","shop"])):w("",!0),e("div",ut,[e("div",null,[e("button",{class:k(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",R.value?"text-white bg-primary":"text-slate-600"]),onClick:i[2]||(i[2]=a=>{R.value=!0,C.value=!1})},s(t.$t("All Products")),3),e("button",{class:k(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",C.value?"text-white bg-primary":"text-slate-600"]),onClick:de},s(t.$t("Reviews")),3)]),e("div",ct,[$e(e("input",{type:"text",placeholder:t.$t("Search product"),class:"p-3 pr-10 bg-slate-100 rounded-lg border border-slate-200 w-full outline-none focus:border-primary transition duration-300","onUpdate:modelValue":i[3]||(i[3]=a=>H.value=a),onInput:i[4]||(i[4]=a=>re())},null,40,vt),[[Re,H.value]]),r(_(Se),{class:"w-6 h-6 absolute top-1/2 right-3 -translate-y-1/2 text-slate-400"})])])]))]),e("div",pt,[r(_(Ce),{breakpoints:ce,spaceBetween:30,freeMode:!0,modules:p},{default:I(()=>{var a;return[m.value?(l(),o(c,{key:1},v(3,h=>r(_(ae),{key:h},{default:I(()=>[r(g,{class:"w-full h-32 rounded-xl"})]),_:1})),64)):(l(!0),o(c,{key:0},v((a=d.value)==null?void 0:a.banners,h=>(l(),z(_(ae),{key:h.id},{default:I(()=>[e("img",{src:h.thumbnail,alt:"banner",loading:"lazy",class:"aspect-[6/2] rounded-xl object-cover"},null,8,mt)]),_:2},1024))),128))]}),_:1})])]),e("div",gt,[e("div",ft,[R.value?(l(),o("div",ht,[e("div",{class:k(["grid grid-cols-1 items-start",_($).themeName=="UltraMart"?"xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 md:gap-3 ":"xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 "])},[x.value?(l(),o(c,{key:1},v(12,a=>e("div",{key:a,class:"w-full"},[r(g,{class:"w-full h-[220px] sm:h-[330px] rounded-lg"})])),64)):(l(!0),o(c,{key:0},v(P.value,a=>(l(),o("div",{key:a.id,class:"w-full"},[r(Ve,{productData:a},null,8,["productData"])]))),128))],2),P.value.length==0&&!x.value?(l(),o("div",wt,s(t.$t("No Products Found")),1)):w("",!0),P.value.length>0&&!x.value?(l(),o("div",_t,[e("div",xt,s(t.$t("Showing"))+" "+s(M.value*(f.value-1)+1)+" "+s(t.$t("to"))+" "+s(M.value*(f.value-1)+P.value.length)+" "+s(t.$t("of"))+" "+s(D.value)+" "+s(t.$t("results")),1),e("div",null,[r(Z,{"total-items":D.value,"items-per-page":M.value,type:"button","max-pages-shown":5,modelValue:f.value,"onUpdate:modelValue":i[5]||(i[5]=a=>f.value=a),"hide-prev-next-when-ends":!0,onClick:ne},null,8,["total-items","items-per-page","modelValue"])])])):w("",!0)])):w("",!0),C.value?(l(),o("div",yt,[e("div",bt,[e("div",null,[e("div",kt,s(t.$t("Rating and Review")),1),r(He,{reviewRatings:(se=F.value)==null?void 0:se.percentages,averageRating:(le=F.value)==null?void 0:le.rating,totalReview:B.value},null,8,["reviewRatings","averageRating","totalReview"])]),e("div",null,[e("div",$t,s(t.$t("Reviews")),1),e("div",Rt,[y.value?(l(),o(c,{key:1},v(6,a=>e("div",{key:a,class:"mb-4"},[e("div",Ct,[r(g,{class:"w-16 h-16 rounded-full shrink-0"}),e("div",Pt,[r(g,{class:"w-full h-2.5 rounded-lg"}),r(g,{class:"w-11/12 h-2.5 rounded-lg"}),r(g,{class:"w-10/12 h-2.5 rounded-lg"})])])])),64)):(l(!0),o(c,{key:0},v(j.value,a=>(l(),o("div",{key:a.id,class:"mb-4"},[r(je,{review:a},null,8,["review"])]))),128)),!y.value&&j.value.length>0?(l(),o("div",jt,[e("div",Vt,s(t.$t("Showing"))+" "+s(T.value*(b.value-1)+1)+" "+s(t.$t("to"))+" "+s(T.value*(b.value-1)+j.value.length)+" "+s(t.$t("of"))+" "+s(B.value)+" "+s(t.$t("results")),1),e("div",null,[r(Z,{"total-items":B.value,"items-per-page":T.value,type:"button","max-pages-shown":3,modelValue:b.value,"onUpdate:modelValue":i[6]||(i[6]=a=>b.value=a),"hide-prev-next-when-ends":!0,onClick:ie},null,8,["total-items","items-per-page","modelValue"])])])):w("",!0),j.value.length==0&&!y.value?(l(),o("div",St,[e("div",Mt,s(t.$t("No Reviews Found")),1)])):w("",!0)])])])])):w("",!0)])])])}}};export{It as default};
